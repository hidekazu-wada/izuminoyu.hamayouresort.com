---
// メインSCSSファイルをインポート
import "../styles/main.scss";

import { getImage } from "astro:assets";
import Head from "../assets/components/common/head.astro";
import TopHeader from "../assets/components/common/topHeader/topHeader.astro";
import SiteBg from "../assets/components/common/siteBg.astro";
import Footer from "../assets/components/common/footer/footer.astro";
import Hero from "../assets/components/pages/top/1-hero.astro";
import Lead from "../assets/components/pages/top/2-lead.astro";
import MainSlider from "../assets/components/pages/top/3-mainSlider.astro";
import Enjoy from "../assets/components/pages/top/4-enjoy.astro";
import Crowd from "../assets/components/pages/top/5-crowd.astro";
---

<html lang="ja">
  <Head />
  <body>
    <SiteBg />
    <TopHeader />
    <main>
      <Hero />
      <Lead />
      <MainSlider />
      <Enjoy />
      <Crowd />
    </main>
    <Footer />
  </body>
</html>

<style lang="scss">
  // 必要なmixin/functionをインポート
  @import "../styles/variables";
  @import "../styles/functions";
  @import "../styles/mixins";

  main {
    padding-top: spx(176);
    @include tablet-up {
      padding-top: tpx(185);
    }
    @include desktop-up {
      padding-top: ppx(182);
    }
  }

  // 混雑状況セクション
  .crowd {
    background: rgba(124, 99, 81, 0.70);
    padding-top: spx(40);
    padding-bottom: spx(105);
    @include tablet-up {
      padding-top: ppx(150 *1.2);
      padding-bottom: ppx(250 *1.2);
    }
    @include desktop-up {
      padding-top: ppx(150);
      padding-bottom: ppx(250);
    }

    &__header {
      display: flex;
      gap: spx(36);
      align-items: flex-end;
      justify-content: center;
      @include tablet-up {
        justify-content: flex-start;
        gap: ppx(76 *1.2);
        margin-left: 38vw;
      }
      @include desktop-up {
        margin-left: ppx(1008);
        gap: ppx(76);
      }
    }

    &__header-text {
      display: flex;
      flex-direction: column;
      gap: spx(10);
      @include tablet-up {
        align-items: center;
        gap: ppx(10 *1.2);
      }
      @include desktop-up {
        gap: ppx(10);
      }
    }

    &__title {
      color: var(--main_color_3, #F1EAE4);
      font-family: "Zen Maru Gothic";
      font-size: spx(46);
      font-style: normal;
      font-weight: 500;
      line-height: 140%; /* 64.4px */
      letter-spacing: spx(2.3);
      @include tablet-up {
        font-size: ppx(65*1.2);
        letter-spacing: ppx(3.25 *1.2);
      }
      @include desktop-up {
        font-size: ppx(65);
        letter-spacing: ppx(3.25);
      }
    }

    &__datetime {
      color: var(--main_color_3, #F1EAE4);
      font-family: "Zen Maru Gothic";
      font-size: spx(26);
      font-style: normal;
      font-weight: 500;
      line-height: 100%; /* 26px */
      letter-spacing: spx(1.3);
      @include tablet-up {
        font-size: ppx(33 *1.2);
        letter-spacing: ppx(1.65 *1.2);
        line-height: 180%; /* 59.4px */
      }
      @include desktop-up {
        font-size: ppx(33);
        letter-spacing: ppx(1.65);
      }
    }

    &__illustration {
      width: spx(136);
      @include tablet-up {
        width: ppx(206 *1.2);
      }
      @include desktop-up {
        width: ppx(206);
      }

      img {
        width: 100%;
        display: block;
        @include tablet-up {
        }
        @include desktop-up {
        }
      }
    }

    &__body {
      background-image: var(--bg-image-sp);
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      width: spx(640);
      height: spx(253);
      margin-inline: auto;
      margin-top: spx(45);
      @include tablet-up {
        background-image: var(--bg-image);
        width: ppx(1800 *1.2);
        height: ppx(622 *1.2);
        margin-top: ppx(60 *1.2);
      }
      @include desktop-up {
        width: ppx(1800);
        height: ppx(622);
        margin-top: ppx(60);
      }
    }

    &__content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: spx(10);
      padding-top: spx(25);
      @include tablet-up {
        gap: ppx(30 *1.2);
        padding-top: ppx(60 *1.2);
      }
      @include desktop-up {
        gap: ppx(30);
        padding-top: ppx(60);
      }
    }

    &__indicators {
      display: flex;
      @include tablet-up {
      }
      @include desktop-up {
      }
    }

    &__indicator-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      @include tablet-up {
      }
      @include desktop-up {
      }

      &--active {
        @include tablet-up {
        }
        @include desktop-up {
        }
      }
      &.first {
        gap: spx(17);
        @include tablet-up {
          gap: ppx(34 *1.2);
        }
        @include desktop-up {
          gap: ppx(34);
        }
        .crowd__icon {
          width: spx(63);
          @include tablet-up {
            width: ppx(157 *1.2);
          }
          @include desktop-up {
            width: ppx(157);
          }
        }
      }
      &.second {
        gap: spx(34);
        margin: 0 spx(69) 0 spx(95);
        @include tablet-up {
          gap: ppx(34 *1.2);
          margin: 0 ppx(271 *1.2) 0 ppx(353 *1.2);
        }
        @include desktop-up {
          gap: ppx(34);
          margin: 0 ppx(271) 0 ppx(353);
        }
        .crowd__icon {
          width: spx(133);
          @include tablet-up {
            width: ppx(329 *1.2);
          }
          @include desktop-up {
            width: ppx(329);
          }
        }
      }
      &.third {
        gap: ppx(20);
        @include tablet-up {
          gap: ppx(20 *1.2);
        }
        @include desktop-up {
          gap: ppx(20);
        }
        .crowd__icon {
          width: spx(129);
          @include tablet-up {
            width: ppx(319 *1.2);
          }
          @include desktop-up {
            width: ppx(319);
          }
        }
      }
    }

    &__marker {
      display: block;
      width: spx(20);
      height: auto;
      @include tablet-up {
        width: ppx(51 *1.2);
      }
      @include desktop-up {
        width: ppx(51);
      }

      svg {
        display: block;
        width: spx(20);
        height: auto;
        @include tablet-up {
          width: ppx(51 *1.2);
        }
        @include desktop-up {
          width: ppx(51);
        }
      }
    }

    &__icon {
      display: block;
      height: auto;
      width: max-content;
      @include tablet-up {
      }
      @include desktop-up {
      }

      svg {
        display: block;
        @include tablet-up {
        }
        @include desktop-up {
        }
        path {
          fill: var(--main_color_1, #7C6351);
        }
      }
    }

    &__legend {
      display: flex;
      align-items: center;
      gap: spx(20);
      @include tablet-up {
        gap: ppx(20 *1.2);
      }
      @include desktop-up {
        gap: ppx(20);
      }
    }

    &__legend-label {
      display: block;
      width: spx(60);
      height: auto;
      @include tablet-up {
        width: ppx(119 *1.2);
      }
      @include desktop-up {
        width: ppx(119);
      }

      img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        @include tablet-up {
          object-fit: contain;
        }
        @include desktop-up {
          object-fit: contain;
        }
      }
    }

    &__legend-arrow {
      display: block;
      width: spx(290);
      height: auto;
      @include tablet-up {
        width: ppx(984 *1.2);
      }
      @include desktop-up {
        width: ppx(984);
      }

      img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        @include tablet-up {
        }
        @include desktop-up {
        }
      }
    }
  }
</style>
